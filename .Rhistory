shiny::runApp()
happiness2015 <- read_csv("data/happiness_2015.csv")
View(happiness2015)
happiness2016 <- read_csv("data/happiness_2016.csv")
happiness2017 <- read_csv("data/happiness_2017.csv")
View(happiness2016)
View(happiness2017)
knitr::opts_chunk$set(echo = TRUE)
names(happiness2015) <- c("Country", "Region", "Happiness.Rank",
"Happiness.Score", "Lower.Confidence.Interval", "Upper.Confidence.Interval",
"Economy", "Family", "Health", "Freedom", "Government.Corruption",
"Generosity", "Dystopia.Residual")
names(happiness2015) <- c("Country", "Region", "Happiness.Rank",
"Happiness.Score", "Standard.Error", "Economy",
"Family", "Health", "Freedom", "Government.Corruption",
"Generosity", "Dystopia.Residual")
names(happiness2016) <- c("Country", "Region", "Happiness.Rank",
"Happiness.Score", "Lower.Confidence.Interval", "Upper.Confidence.Interval",
"Economy", "Family", "Health", "Freedom", "Government.Corruption",
"Generosity", "Dystopia.Residual")
happiness2015
happiness2016
new <- happiness2016 %>% select(Country, Region)
left_join(happiness2017, new, by = Country)
left_join(happiness2017, new, by = "Country")
happiness2016
names(happiness2017)
happiness2017
temp <- happiness2016 %>% select(Country, Region)
happiness2017 <- left_join(happiness2017, temp, by = "Country")
is.na(happiness2017$Region)
happiness2017 <- read_csv("data/happiness_2017.csv")
happiness2016 <- read_csv("data/happiness_2016.csv")
happiness2015 <- read_csv("data/happiness_2015.csv")
names(happiness2015) <- c("Country", "Region", "Happiness.Rank",
"Happiness.Score", "Standard.Error", "Economy",
"Family", "Health", "Freedom", "Government.Corruption",
"Generosity", "Dystopia.Residual")
names(happiness2016) <- c("Country", "Region", "Happiness.Rank",
"Happiness.Score", "Lower.Confidence.Interval", "Upper.Confidence.Interval",
"Economy", "Family", "Health", "Freedom", "Government.Corruption",
"Generosity", "Dystopia.Residual")
temp <- happiness2016 %>% select(Country, Region)
happiness2017 <- left_join(happiness2017, temp, by = "Country")
happiness2017 %>% filter(is.na(happiness2017$Region))
temp <- happiness2016 %>% select(Country, Region)
happiness2017 <- left_join(happiness2017, temp, by = "Country")
refcols <- c("Country", "Region")
happiness2017 <- happiness2017[, c(refcols, setdiff(names(happiness2017), refcols))]
happiness2017 <- read_csv("data/happiness_2017.csv")
temp <- happiness2016 %>% select(Country, Region)
happiness2017 <- left_join(happiness2017, temp, by = "Country")
refcols <- c("Country", "Region")
happiness2017 <- happiness2017[, c(refcols, setdiff(names(happiness2017), refcols))]
happiness2017 %>% filter(is.na(happiness2017$Region))
happiness2017 %>% filter(is.na(happiness2017$Region)) %>% select(Country)
happiness2015 %>% filter(Country %in% c("Taiwan Province of China", "Hong Kong S.A.R., China", "Mozambique", "Lesotho", "Central African Republic"))
happiness2015 %>% filter(Country == "China")
happiness2015 %>% select(Region) %>% unique()
happiness2015 %>% filter(Country %in% c("Taiwan Province of China", "Hong Kong S.A.R., China", "Mozambique", "Lesotho", "Central African Republic"))
happiness2016 %>% filter(Country %in% c("Taiwan Province of China", "Hong Kong S.A.R., China", "Mozambique", "Lesotho", "Central African Republic"))
happiness2015 %>% filter(Country %in% c("Taiwan Province of China", "Hong Kong S.A.R., China", "Mozambique", "Lesotho", "Central African Republic"))
happiness2017 %>% filter(is.na(happiness2017$Region))
happiness2015 %>% filter(Country %in% c("Taiwan Province of China", "Hong Kong S.A.R., China", "Mozambique", "Lesotho", "Central African Republic"))
happiness2017 %>%
filter(is.na(happiness2017$Region)) %>%
mutate(Region = c("Eastern Asia", "Eastern Asia", "Sub-Saharan Africa", "Sub-Saharan Africa", "Sub-Saharan Africa"))
happiness2015 %>% select(Region) %>% unique()
happiness2017 <- read_csv("data/happiness_2017.csv")
happiness2016 <- read_csv("data/happiness_2016.csv")
happiness2015 <- read_csv("data/happiness_2015.csv")
names(happiness2015) <- c("Country", "Region", "Happiness.Rank",
"Happiness.Score", "Standard.Error", "Economy",
"Family", "Health", "Freedom", "Government.Corruption",
"Generosity", "Dystopia.Residual")
names(happiness2016) <- c("Country", "Region", "Happiness.Rank",
"Happiness.Score", "Lower.Confidence.Interval", "Upper.Confidence.Interval",
"Economy", "Family", "Health", "Freedom", "Government.Corruption",
"Generosity", "Dystopia.Residual")
temp <- happiness2016 %>% select(Country, Region)
happiness2017 <- left_join(happiness2017, temp, by = "Country")
refcols <- c("Country", "Region")
happiness2017 <- happiness2017[, c(refcols, setdiff(names(happiness2017), refcols))]
happiness2017 <- happiness2017 %>%
filter(is.na(happiness2017$Region)) %>%
mutate(Region = c("Eastern Asia", "Eastern Asia", "Sub-Saharan Africa", "Sub-Saharan Africa", "Sub-Saharan Africa"))
happiness2017
library(ggplot2)
library(dplyr)
library(readr)
happiness2017 <- read_csv("data/happiness_2017.csv")
happiness2016 <- read_csv("data/happiness_2016.csv")
happiness2015 <- read_csv("data/happiness_2015.csv")
names(happiness2015) <- c("Country", "Region", "Happiness.Rank",
"Happiness.Score", "Standard.Error", "Economy",
"Family", "Health", "Freedom", "Government.Corruption",
"Generosity", "Dystopia.Residual")
happiness2015 %>% select(-Standard.Error)
names(happiness2016) <- c("Country", "Region", "Happiness.Rank",
"Happiness.Score", "Lower.Confidence.Interval", "Upper.Confidence.Interval",
"Economy", "Family", "Health", "Freedom", "Government.Corruption",
"Generosity", "Dystopia.Residual")
happiness2016 %>% select(-c(Lower.Confidence.Interval, Upper.Confidence.Interval))
happiness2015 <- happiness2015 %>% select(-Standard.Error)
happiness2015
happiness2016 <- happiness2016 %>% select(-c(Lower.Confidence.Interval, Upper.Confidence.Interval))
write_csv(happiness2015, "../results/happiness_2015_clean.csv")
